(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/Uf+":function(e,t,n){},"4S9M":function(e,t,n){},W4p8:function(e,t,n){e.exports=n.p+"a223c33f59d7a4cb448c67549fe5b696.png"},tjUo:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"newtimetables",(function(){return M})),n.d(a,"appMetadata",(function(){return L})),n.d(a,"recentSearchsNew",(function(){return D})),n.d(a,"advancedSearchEnabled",(function(){return A}));var r={};n.r(r),n.d(r,"isHydrated",(function(){return H})),n.d(r,"default",(function(){return U})),n("55Il");var o=n("q1tI"),i=n.n(o),l=n("i8i4"),u=n.n(l),s=n("/MKj"),c=n("SUMQ"),f=n("tK3S"),m=n.n(f),p=n("mhGz"),d=n("fvjX"),h=n("SVmU"),b=n("sINF"),g=n("C+HQ"),y=n.n(g),S=n("1mXj");function v(e,t){return function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:e,a=1<arguments.length?arguments[1]:void 0;return Object.prototype.hasOwnProperty.call(t,a.type)?t[a.type](n,a):n}}function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"json";return fetch(e).then((function(e){if("json"!==t)return e.text();var n=e.json();return e.ok?n:n.then((function(e){throw e}))})).then((function(e){return e}))}}])&&w(t.prototype,n),e}();var E="SET_METADATA",k="SET_TIMETABLES",j="ADD_RECENT_SEARCH",P="CHANGE_ADVANCED_SEARCH_STATE";function T(){return function(e){var t=new O;return Promise.all([t.get("https://raw.githubusercontent.com/ktmtimetable/ktmtimetable.github.io/master/data/line11.json"),t.get("https://raw.githubusercontent.com/ktmtimetable/ktmtimetable.github.io/master/data/line12.json"),t.get("https://raw.githubusercontent.com/ktmtimetable/ktmtimetable.github.io/master/data/line21.json"),t.get("https://raw.githubusercontent.com/ktmtimetable/ktmtimetable.github.io/master/data/line22.json")]).then((function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,4),a=n[0],r=n[1],o=n[2],i=n[3];e({type:k,data:[{lineNum:1,timetable1:a,timetable2:r},{lineNum:2,timetable1:o,timetable2:i}]})})).catch((function(e){}))}}function C(e,t){return{type:j,data:{fromStation:e,toStation:t}}}function N(e){return{type:P,data:e}}function _(){return function(e){return(new O).get("https://raw.githubusercontent.com/ktmtimetable/ktmtimetable.github.io/master/data/metadata.json").then((function(t){e({type:E,data:t})})).catch((function(e){return null}))}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K,B,x,M=v([],R({},k,(function(e,t){return t.data}))),L=v({version:"",news:[]},R({},E,(function(e,t){return t.data?t.data:e}))),D=v([],R({},j,(function(e,t){var n=t.data,a=n.fromStation,r=n.toStation;if(0<=e.findIndex((function(e){return e.fromStation.id===a.id&&e.toStation.id===r.id})))return e;var o=e.slice(0,2);return o.unshift(t.data),o}))),A=v(!1,R({},P,(function(e,t){return t.data}))),I="persist/UPDATE",H=v(!1,(x=function(e,t){return t.isHydrated},(B=I)in(K={})?Object.defineProperty(K,B,{value:x,enumerable:!0,configurable:!0,writable:!0}):K[B]=x,K)),U=H,q=Object(d.c)(Object.assign({},a,r)),z=function(e,t){var n=Object.assign({},e);return q(n,t)};var F=n("55Ip"),J=n("Ty5D"),W=n("17x9"),G=n.n(W),V=n("zfCH"),Y=n.n(V),X=n("NDbl"),Q=n("1IiC"),Z=n.n(Q),$=n("k8Y/"),ee=n.n($),te=n("BkRI"),ne=n.n(te),ae=["Tanjung Malim","Kuala Kubu Bharu","Rasa","Batang Kali","Serendah","Rawang","Kuang","Sungai Buloh","Kepong Sentral","Kepong","Segambut","Sentul","Putra","Bank Negara","Kuala Lumpur","KL Sentral","Abdullah Hukum","Angkasapuri","Pantai Dalam","Petaling","Jalan Templer","Kg Dato Harun","Seri Setia","Setia Jaya","Subang Jaya","Batu Tiga","Shah Alam","Padang Jawa","Bukit Badak","Klang","Teluk Pulai","Teluk Gadong","Kg Raja Uda","Jalan Kastam","Pelabuhan Klang"],re=["Batu Caves","Taman Wahyu","Kampung Batu","Batu Kentonmen","Sentul","Putra","Bank Negara","Kuala Lumpur","KL Sentral","MidValley","Seputeh","Salak Selatan","Bandar Tasek Selatan","Serdang","Kajang","UKM","Bangi","Batang Benar","Nilai","Labu","Tiroi","Seremban","Senawang","Sungai Gadut","Rembau","Pulau Sebang"],oe=n("9kay"),ie=n("SuUo"),le=n.n(ie),ue=(n("/Uf+"),function(){return i.a.createElement(le.a,{className:"stations-map"},i.a.createElement("div",{className:"track-station"},i.a.createElement("span",{className:"track"}),i.a.createElement("div",{className:"station"},i.a.createElement("i",{className:"fas fa-map-marker-alt icon"}),i.a.createElement("span",{className:"name"},"KL Sentral"))),i.a.createElement("div",{className:"track-station"},i.a.createElement("span",{className:"track"}),i.a.createElement("div",{className:"station"},i.a.createElement("i",{className:"fas fa-map-marker-alt icon"}),i.a.createElement("span",{className:"name"},"KL Sentral"))),i.a.createElement("div",{className:"track-station"},i.a.createElement("span",{className:"track"}),i.a.createElement("div",{className:"station"},i.a.createElement("i",{className:"fas fa-map-marker-alt icon"}),i.a.createElement("span",{className:"name"},"KL Sentral"))),i.a.createElement("div",{className:"track-station"},i.a.createElement("span",{className:"track"}),i.a.createElement("div",{className:"station"},i.a.createElement("i",{className:"fas fa-map-marker-alt icon"}),i.a.createElement("span",{className:"name"},"KL Sentral"))),i.a.createElement("div",{className:"track-station"},i.a.createElement("span",{className:"track"}),i.a.createElement("div",{className:"station"},i.a.createElement("i",{className:"fas fa-map-marker-alt icon"}),i.a.createElement("span",{className:"name"},"KL Sentral"))))});function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=n("wd/R"),de=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,fe(t).call(this,e))).state={now:pe.now()},n.timer=null,n}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,o.PureComponent),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;this.timer=window.setInterval((function(){e.setState({now:pe.now()})}),5e3)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.timer)}},{key:"getValue",value:function(){var e=this.props.t;return prompt("".concat(e("Enter your email")," : "),"")}},{key:"render",value:function(){if(null===this.props.result)return null;var e=this.state.now;return i.a.createElement("div",{className:"schedule-result"},i.a.createElement(ue,null),i.a.createElement("div",{className:"times"},this.props.result.map((function(t,n){return i.a.createElement("div",{key:n},i.a.createElement("p",{className:"time item-".concat(n)},i.a.createElement("i",{className:"far fa-clock"}),t.time," ",t.m.isBefore(e)?"":"(".concat(t.m.from(e),")"),(2602===(a=t.trainNo)||2603===a)&&i.a.createElement("span",{className:"notes"},"(Ekspres)")));var a}))))}}])&&ce(n.prototype,a),t}();de.propTypes={result:G.a.instanceOf(Array),t:G.a.func.isRequired},de.defaultProps={result:null};var he=Object(oe.b)()(de),be=(n("uLBM"),n("wd/R")),ge=n("LvDl"),ye=n("ZqOF"),Se=n.n(ye),ve=n("DKSo"),we=n.n(ve),Oe=n("Zsd2"),Ee=n.n(Oe),ke=n("mwIZ"),je=n.n(ke),Pe=n("JgXy"),Te=n.n(Pe),Ce=n("NABS"),Ne=n.n(Ce),_e=n("4eE1"),Re=n.n(_e);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=function(e){function t(e){var n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this,(n=!(a=xe(t).call(this,e))||"object"!==Ke(a)&&"function"!=typeof a?Me(this):a).setWrapperRef=n.setWrapperRef.bind(Me(n)),n.handleClickOutside=n.handleClickOutside.bind(Me(n)),n}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,o.PureComponent),n=t,(a=[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.props.onClickOutside()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{ref:this.setWrapperRef,className:"suggestions"},i.a.createElement("div",null,i.a.createElement(Te.a,{component:"nav"},this.props.suggestions.map((function(t){var n=function(e){switch(e){case 1:return"Tg. Malim - Pel. Klang";case 2:return"Batu Caves - Tampin";default:return""}}(t.line);return i.a.createElement(Ne.a,{key:"".concat(t.line,"-").concat(t.id),button:!0,onClick:function(){return e.props.onSelectStation(t)}},i.a.createElement(Re.a,null,i.a.createElement("span",{className:"station-name"},t.name)),n&&i.a.createElement("span",{className:"line-name"},i.a.createElement("i",{className:"fas fa-subway"}),n))})))))}}])&&Be(n.prototype,a),t}();De.propTypes={suggestions:G.a.instanceOf(Array).isRequired,onSelectStation:G.a.func.isRequired,onClickOutside:G.a.func.isRequired};var Ae=De;function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=function(e){function t(e){var n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this,a=Ue(t).call(this,e),Fe(qe(n=!a||"object"!==Ie(a)&&"function"!=typeof a?qe(this):a),"handleOnChangeKeywords",(function(e){var t=Ee()(e),a=0===t.length?[]:n.props.stations.filter((function(e){return n=e.name,a=t,r=!0,ge.words(a).forEach((function(e){!0===r&&(r=-1!==n.toLowerCase().indexOf(e.toLowerCase()))})),r;var n,a,r}));n.setState({keywords:e,suggestions:a},(function(){return n.props.onChange(null)}))})),Fe(qe(n),"handleOnClickClear",(function(){n.handleOnChangeKeywords(""),n.textInput.current.focus()})),Fe(qe(n),"handleOnGetNearbyStations",(function(){navigator.geolocation&&n.setState({isFetchingLocation:!0,keywords:""},(function(){n.props.onChange(null),navigator.geolocation.getCurrentPosition((function(e){n.setState({isFetchingLocation:!1});var t,a,r,o=e.coords,i=o.latitude,l=o.longitude,u=(t=i,a=l,r=n.props.stations,t&&a?r.map((function(e){var n=e.lat-t,r=e.long-a,o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return Object.assign({},e,{distance:o})})).sort((function(e,t){return e.distance-t.distance})).slice(0,10):[]);n.setState({suggestions:u})}),(function(e){n.setState({isFetchingLocation:!1})}))}))})),Fe(qe(n),"handleOnSelectStation",(function(e){n.setState({suggestions:[],keywords:e.name},(function(){return n.props.onChange(e)}))})),n.state={keywords:"",suggestions:[],isFetchingLocation:!1},n.textInput=i.a.createRef(),n}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,o.PureComponent),n=t,(a=[{key:"componentWillReceiveProps",value:function(e){je()(this.props.selectedStation,"id",null)!==je()(e.selectedStation,"id",null)&&this.setState({keywords:je()(e.selectedStation,"name","")})}},{key:"renderLocationButton",value:function(){var e=this;return this.props.nearby&&navigator.geolocation?this.state.isFetchingLocation?i.a.createElement("div",{className:"icon"},i.a.createElement(we.a,{style:{margin:"auto"},size:30})):i.a.createElement(Z.a,{title:"Find nearby stations",role:"button",tabIndex:0,className:"icon","aria-label":"Search",onClick:function(){return e.handleOnGetNearbyStations()}},i.a.createElement("i",{className:"fas fa-map-marker-alt"})):null}},{key:"renderSuggestions",value:function(){var e=this;return 0===this.state.suggestions.length?null:i.a.createElement(Ae,{suggestions:this.state.suggestions,onSelectStation:this.handleOnSelectStation,onClickOutside:function(){return e.setState({suggestions:[]})}})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"search-textfield"},i.a.createElement(Se.a,{inputRef:this.textInput,autoComplete:"off",InputProps:{classes:{input:this.props.classes.input}},id:"outlined-full-width",label:this.props.label,placeholder:"Enter station name",fullWidth:!0,margin:"normal",value:this.state.keywords,onChange:function(t){return e.handleOnChangeKeywords(t.target.value)},variant:"outlined",InputLabelProps:{shrink:!0}}),0<this.state.keywords.length?i.a.createElement("div",{title:"Clear filter",role:"button",tabIndex:0,className:"icon","aria-label":"Close",onClick:function(){return e.handleOnClickClear("")}},i.a.createElement("i",{className:"fas fa-times"})):this.renderLocationButton(),this.renderSuggestions())}}])&&He(n.prototype,a),t}();Je.propTypes={label:G.a.string.isRequired,nearby:G.a.bool,selectedStation:G.a.instanceOf(Object),classes:G.a.instanceOf(Object).isRequired,stations:G.a.instanceOf(Array).isRequired,onChange:G.a.func.isRequired},Je.defaultProps={selectedStation:null,nearby:!1};var We=Object(c.withStyles)({input:{height:10,fontSize:13}})(Je);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e,et=($e=[],[{id:"Tanjung Malim",name:"Tanjung Malim",lat:3.684803,long:101.518417},{id:"Kuala Kubu Bharu",name:"Kuala Kubu Bharu",lat:3.553269,long:101.63957},{id:"Rasa",name:"Rasa",lat:3.500187,long:101.634145},{id:"Batang Kali",name:"Batang Kali",lat:3.46838,long:101.637731},{id:"Serendah",name:"Serendah",lat:3.375997,long:101.614458},{id:"Rawang",name:"Rawang",lat:3.318991,long:101.574974},{id:"Kuang",name:"Kuang",lat:3.258263,long:101.554724},{id:"Sungai Buloh",name:"Sungai Buloh",lat:3.206373,long:101.580101},{id:"Kepong Sentral",name:"Kepong Sentral",lat:3.208693,long:101.628516},{id:"Kepong",name:"Kepong",lat:3.202814,long:101.637378},{id:"Segambut",name:"Segambut",lat:3.186437,long:101.664201},{id:"Sentul",name:"Sentul",lat:3.182177,long:101.688693},{id:"Putra",name:"Putra",lat:3.165296,long:101.691008},{id:"Bank Negara",name:"Bank Negara",lat:3.154722,long:101.693136},{id:"Kuala Lumpur",name:"Kuala Lumpur",lat:3.1397415,long:101.6915377},{id:"KL Sentral",name:"KL Sentral",lat:3.134108,long:101.686634},{id:"Abdullah Hukum",name:"Abdullah Hukum",lat:3.118733,long:101.673165},{id:"Angkasapuri",name:"Angkasapuri",lat:3.113278,long:101.673281},{id:"Pantai Dalam",name:"Pantai Dalam",lat:3.095637,long:101.670041},{id:"Petaling",name:"Petaling",lat:3.086168,long:101.664176},{id:"Jalan Templer",name:"Jalan Templer",lat:3.083468,long:101.656495},{id:"Kg Dato Harun",name:"Kg Dato Harun",lat:3.084457,long:101.632283},{id:"Seri Setia",name:"Seri Setia",lat:3.084521,long:101.621902},{id:"Setia Jaya",name:"Setia Jaya",lat:3.083141,long:101.611427},{id:"Subang Jaya",name:"Subang Jaya",lat:3.084598,long:101.587392},{id:"Batu Tiga",name:"Batu Tiga",lat:3.075934,long:101.559731},{id:"Shah Alam",name:"Shah Alam",lat:3.056501,long:101.525085},{id:"Padang Jawa",name:"Padang Jawa",lat:3.052341,long:101.492708},{id:"Bukit Badak",name:"Bukit Badak",lat:3.036166,long:101.470246},{id:"Klang",name:"Klang",lat:3.043123,long:101.449615},{id:"Teluk Pulai",name:"Teluk Pulai",lat:3.040854,long:101.432097},{id:"Teluk Gadong",name:"Teluk Gadong",lat:3.03389,long:101.424901},{id:"Kg Raja Uda",name:"Kg Raja Uda",lat:3.020121,long:101.41021},{id:"Jalan Kastam",name:"Jalan Kastam",lat:3.013022,long:101.402591},{id:"Pelabuhan Klang",name:"Pelabuhan Klang",lat:2.999516,long:101.391449},{id:"Batu Caves",name:"Batu Caves",lat:3.237995,long:101.681252},{id:"Taman Wahyu",name:"Taman Wahyu",lat:3.214494,long:101.672215},{id:"Kampung Batu",name:"Kampung Batu",lat:3.204802,long:101.675625},{id:"Batu Kentonmen",name:"Batu Kentonmen",lat:3.198299,long:101.681217},{id:"MidValley",name:"Mid Valley",lat:3.118997,long:101.67881},{id:"Seputeh",name:"Seputeh",lat:3.113685,long:101.681424},{id:"Salak Selatan",name:"Salak Selatan",lat:3.098325,long:101.704971},{id:"Bandar Tasek Selatan",name:"Bandar Tasek Selatan",lat:3.076277,long:101.711099},{id:"Serdang",name:"Serdang",lat:3.023336,long:101.715881},{id:"Kajang",name:"Kajang",lat:2.983326,long:101.79065},{id:"UKM",name:"UKM",lat:2.939575,long:101.787792},{id:"Bangi",name:"Bangi",lat:2.904052,long:101.786128},{id:"Batang Benar",name:"Batang Benar",lat:2.830458,long:101.826959},{id:"Nilai",name:"Nilai",lat:2.802248,long:101.799527},{id:"Labu",name:"Labu",lat:2.754076,long:101.826482},{id:"Tiroi",name:"Tiroi",lat:2.741186,long:101.871927},{id:"Seremban",name:"Seremban",lat:2.718985,long:101.940426},{id:"Senawang",name:"Senawang",lat:2.6904,long:101.971812},{id:"Sungai Gadut",name:"Sungai Gadut",lat:2.660478,long:101.996243},{id:"Rembau",name:"Rembau",lat:2.592355,long:102.095319},{id:"Pulau Sebang",name:"Pulau Sebang/Tampin",lat:2.463866,long:102.226278}].forEach((function(e){var t=e.id,n={id:t,name:e.name,lat:e.lat,long:e.long,conjunction:!1},a=ae.indexOf(t),r=re.indexOf(t);0<=a&&0<=r?(n.conjunction=!0,n.lines=[{id:t,line:1,order:a},{id:t,line:2,order:r}]):0<=a?(n.line=1,n.order=a):0<=r&&(n.line=2,n.order=r),$e.push(n)})),$e);function tt(e){var t=null;return null===e?t=et:!0===e.conjunction?(t=[],et.forEach((function(e){!0===e.conjunction?e.lines.forEach((function(n){t.push({id:n.id,name:e.name,lat:e.lat,long:e.long,line:n.line,order:n.order})})):t.push(e)}))):t=ee()(et,(function(t){return t.line===e.line?-1:1})),t}var nt=function(e){function t(e){var n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this,a=Ye(t).call(this,e),Ze(Xe(n=!a||"object"!==Ge(a)&&"function"!=typeof a?Xe(this):a),"handleOnSelectRecentSearch",(function(e){var t=e.fromStation,a=e.toStation;n.setState({fromStation:t,toStation:a},(function(){return n.searchUpcomingTrains()}))})),Ze(Xe(n),"searchUpcomingTrains",(function(){var e=n.state,t=e.fromStation,a=e.toStation;if(t&&a){var r=n.props.timetables.find((function(e){return e.lineNum===t.line})),o=null;void 0!==r&&(o=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=e.find((function(e){return e.id===t.id})),r=null===n?be.now():be(n),o=[];for(var i in a){var l=ge.trim(i);if(!isNaN(l)&&a.hasOwnProperty(l)&&a[l]){var u=be(a[l],"HH:mm");u.isValid()&&(u.isBefore(r)&&u.add(1,"d"),o.push({trainNo:Number(l),time:a[l],diff:u.diff(r),m:u}))}}return o.sort((function(e,t){return e.diff-t.diff})).slice(0,3).map((function(e){var t=e.time,n=e.m;return{trainNo:e.trainNo,time:t,m:n}}))}(t.order<a.order?r.timetable1:r.timetable2,t,n.state.departTime)),n.props.addRecentSearch(t,a),n.setState({result:o})}else n.setState({result:null})})),n.state={fromStation:null,toStation:null,departTime:null,result:null,openTimePicker:!1},n.handleOnChangeDepartTime=n.handleOnChangeDepartTime.bind(Xe(n)),n.handleOnSwapStations=n.handleOnSwapStations.bind(Xe(n)),n.handleOnChangeFromStation=n.handleOnChangeFromStation.bind(Xe(n)),n.handleOnChangeToStation=n.handleOnChangeToStation.bind(Xe(n)),n}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,o.PureComponent),n=t,(a=[{key:"handleOnChangeFromStation",value:function(e){var t=this;if(null!==e){var n=this.state.toStation;if(n){if(!0===n.conjunction){var a=(n=ne()(this.state.toStation)).lines.find((function(t){return t.line===e.line}));Object.assign(n,a)}else if(!0===e.conjunction){var r=e.lines.find((function(e){return e.line===n.line}));Object.assign(e,r)}else n.line!==e.line&&(n=null);this.setState({fromStation:e,toStation:n},(function(){return t.searchUpcomingTrains()}))}else this.setState({fromStation:e})}else this.setState({fromStation:null,result:null})}},{key:"handleOnChangeToStation",value:function(e){var t=this;if(null!==e){var n=this.state.fromStation;if(e){if(!0===n.conjunction){var a=(n=ne()(this.state.fromStation)).lines.find((function(t){return t.line===e.line}));Object.assign(n,a)}else if(!0===e.conjunction){var r=e.lines.find((function(e){return e.line===n.line}));Object.assign(e,r)}else n.line!==e.line&&(n=null);this.setState({toStation:e,fromStation:n},(function(){return t.searchUpcomingTrains()}))}else this.setState({toStation:e})}else this.setState({toStation:null,result:null})}},{key:"handleOnSwapStations",value:function(){var e=this;this.setState({fromStation:this.state.toStation,toStation:this.state.fromStation},(function(){return e.searchUpcomingTrains()}))}},{key:"handleOnChangeDepartTime",value:function(e){var t=this;this.setState({departTime:e,openTimePicker:!1},(function(){t.searchUpcomingTrains()}))}},{key:"renderResult",value:function(){if(!this.state.result)return null;var e=this.state,t=e.fromStation,n=e.toStation,a=t.line,r=[];return et.forEach((function(e){if(!0===e.conjunction){var t=e.lines.find((function(e){return e.line===a})),n=t.id,o=t.line,i=t.order;r.push({id:n,name:e.name,lat:e.lat,long:e.long,line:o,order:i})}else e.line===a&&r.push(e)})),i.a.createElement("div",null,i.a.createElement(he,{endStation:n.name,selectedStation:t.name,nextStations:function(e,t,n){for(var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2,r=e.findIndex((function(e){return e.id===t.id})),o=[],i=t.order<n.order?1:-1;o.length<a&&!((r+=i)<0||i.length<=r);){var l=e[r];if(void 0===l||l.id===n.id)break;o.push(l)}return o}(r,t,n,2),result:this.state.result}))}},{key:"renderFromStationPicker",value:function(){return i.a.createElement(We,{selectedStation:this.state.fromStation,label:"From station",nearby:!0,stations:tt(this.state.toStation),onChange:this.handleOnChangeFromStation})}},{key:"renderToStationPicker",value:function(){return i.a.createElement(We,{selectedStation:this.state.toStation,label:"To station",stations:tt(this.state.fromStation),onChange:this.handleOnChangeToStation})}},{key:"renderAdvancedSearchCheckbox",value:function(){var e=this;return i.a.createElement("div",{className:"advance-search-checkbox"},"Advanced search ",i.a.createElement(Y.a,{checked:this.props.advancedSearchEnabled,onChange:function(t,n){return e.props.onChangeAdvancedSearchState(n)},color:"primary"}))}},{key:"renderDepartTime",value:function(){var e=this,t=this.state.departTime;return i.a.createElement("div",{className:"depart-time",title:"Change depart time",role:"button",tabIndex:0,onClick:function(){return e.setState({openTimePicker:!0})}},i.a.createElement("i",{className:"far fa-clock"}),i.a.createElement("i",null,"Depart ",null===t?"now":"at ".concat(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"MM/DD/YYYY";return be(e).format(t)}(t,"HH:mm"))),i.a.createElement("i",{className:"fas fa-chevron-down"}))}},{key:"renderSwapButton",value:function(){var e=this;return this.state.fromStation||this.state.toStation?i.a.createElement("div",{className:"switch"},i.a.createElement(Z.a,{title:"Swap stations",role:"button",tabIndex:0,className:"icon",onClick:function(){return e.handleOnSwapStations()}},i.a.createElement("i",{className:"fas fa-retweet"}))):null}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"home"},i.a.createElement("div",{className:"search"},i.a.createElement("div",{style:{display:"none"}},i.a.createElement(X.b,{showTodayButton:!0,todayLabel:"NOW",DialogProps:{open:this.state.openTimePicker},label:"Time picker",onChange:this.handleOnChangeDepartTime,onClose:function(){return e.setState({openTimePicker:!1})}})),this.renderDepartTime(),this.renderFromStationPicker(),this.renderSwapButton(),this.renderToStationPicker()),i.a.createElement("div",{className:"favorite-stations"},i.a.createElement("div",{className:"stations"},this.props.recentSearchs.slice(0,2).map((function(t,n){return i.a.createElement("span",{key:n,button:"true",onClick:function(){return e.handleOnSelectRecentSearch(t)}},"".concat(t.fromStation.name," - ").concat(t.toStation.name))})))),this.renderResult())}}])&&Ve(n.prototype,a),t}();nt.propTypes={timetables:G.a.instanceOf(Array),recentSearchs:G.a.instanceOf(Array),addRecentSearch:G.a.func.isRequired,onChangeAdvancedSearchState:G.a.func.isRequired,advancedSearchEnabled:G.a.bool},nt.defaultProps={timetables:[],recentSearchs:[],advancedSearchEnabled:!1};var at=Object(s.b)((function(e){return{timetables:e.newtimetables,recentSearchs:e.recentSearchsNew,advancedSearchEnabled:e.advancedSearchEnabled}}),(function(e){return Object(d.b)(Object.assign({},{addRecentSearch:C,onChangeAdvancedSearchState:N}),e)}))(nt),rt=n("mPma"),ot=(n("4S9M"),n("TSYQ")),it=n.n(ot),lt=n("YDiY"),ut=n.n(lt),st=n("2VVu"),ct=n.n(st),ft=n("uniG"),mt=n.n(ft),pt=n("ekFh"),dt=n.n(pt),ht=n("EHL7"),bt=n.n(ht),gt=n("76vg"),yt=n.n(gt),St=n("E2gh"),vt=n.n(St);function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Et(e,t){return!t||"object"!==wt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Et(this,kt(t).apply(this,arguments))}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(t,o.PureComponent),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.theme,r=t.open;return i.a.createElement(dt.a,{className:n.drawer,variant:"persistent",anchor:"left",open:r,classes:{paper:n.drawerPaper}},i.a.createElement("div",{className:n.drawerHeader},i.a.createElement(Z.a,{onClick:function(){return e.props.onClose()}},"ltr"===a.direction?i.a.createElement(yt.a,null):i.a.createElement(vt.a,null))),i.a.createElement(bt.a,null),i.a.createElement(Te.a,{className:"app-menu"},i.a.createElement("a",{rel:"noopener noreferrer",style:{color:"#3578E5",textDecoration:"none"},target:"_blank",href:"https://m.me/ktmtimetable/"},i.a.createElement(Ne.a,{button:!0,key:"messenger"},i.a.createElement("i",{className:"fab fa-facebook-messenger",style:{fontSize:25}}),i.a.createElement("span",{className:"text"},"Messenger"))),i.a.createElement("a",{rel:"noopener noreferrer",style:{color:"#3578E5",textDecoration:"none"},target:"_blank",href:"https://www.facebook.com/ktmtimetable/"},i.a.createElement(Ne.a,{button:!0,key:"facebook"},i.a.createElement("i",{className:"fab fa-facebook-square",style:{fontSize:25}}),i.a.createElement("span",{className:"text"},"Fan Page"))),i.a.createElement("a",{href:"mailto:ktmtimetable@gmail.com",style:{color:"#222",textDecoration:"none"}},i.a.createElement(Ne.a,{button:!0,key:"gmail"},i.a.createElement("i",{className:"fas fa-envelope",style:{fontSize:25}}),i.a.createElement("span",{className:"text"},"Ktmtimetable@gmail.com")))),i.a.createElement("span",{className:"build-no"},"Build #",20200105.2))}}])&&Ot(n.prototype,a),t}();Pt.propTypes={classes:G.a.instanceOf(Object).isRequired,theme:G.a.instanceOf(Object).isRequired,open:G.a.bool.isRequired,onClose:G.a.func.isRequired};var Tt=Object(c.withStyles)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){var a,r,o;a=e,o=n[r=t],r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}))}return e}({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:3*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}),{withTheme:!0})(Pt);function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,_t(t).call(this,e))).state={current:0},n}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}(t,o.PureComponent),n=t,(a=[{key:"componentDidMount",value:function(){var e=this,t=this.props.appMetadata.news.length;1<t&&(this.timer=setInterval((function(){var n=e.state.current+1;t<=n&&(n=0),e.setState({current:n})}),5e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){return 0===this.props.appMetadata.news.length?null:i.a.createElement("div",{className:"news"},i.a.createElement("i",{className:"fas fa-bullhorn"}),i.a.createElement("span",{className:"warning"},this.props.appMetadata.news[this.state.current]))}}])&&Nt(n.prototype,a),t}();Kt.propTypes={appMetadata:G.a.instanceOf(Object).isRequired};var Bt=Object(s.b)((function(e){return{appMetadata:e.appMetadata}}),null)(Kt);function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e,t){return(At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ht=function(e){function t(e){var n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this,a=Lt(t).call(this,e),It(Dt(n=!a||"object"!==xt(a)&&"function"!=typeof a?Dt(this):a),"handleDrawerOpen",(function(){n.setState({open:!0})})),It(Dt(n),"handleDrawerClose",(function(){n.setState({open:!1})})),n.state={open:!1},n}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(t,o.PureComponent),n=t,(a=[{key:"render",value:function(){var e=this.props.classes,t=this.state.open;return i.a.createElement("div",null,i.a.createElement("div",{className:"app-header"},i.a.createElement(ut.a,{position:"relative",className:it()(e.appBar,It({},e.appBarShift,t))},i.a.createElement(ct.a,{disableGutters:!t},i.a.createElement(Z.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:it()(e.menuButton,t&&e.hide)},i.a.createElement(mt.a,null)),i.a.createElement("h1",{className:"title"},"KTM Komuter Train Timetable"))),i.a.createElement(Tt,{open:t,onClose:this.handleDrawerClose})),i.a.createElement(Bt,null))}}])&&Mt(n.prototype,a),t}();Ht.propTypes={classes:G.a.instanceOf(Object).isRequired};var Ut=Object(c.withStyles)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){It(e,t,n[t])}))}return e}({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:3*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}),{withTheme:!0})(Ht),qt=function e(t){var n=t.backgroundColor,a=t.iconSize,r=t.iconThickness;return e.propTypes={backgroundColor:G.a.string,iconSize:G.a.number,iconThickness:G.a.number},e.defaultProps={backgroundColor:"transparent",iconSize:20,iconThickness:3},i.a.createElement("div",{style:{backgroundColor:n,margin:"auto"}},i.a.createElement(we.a,{thickness:r,size:a,color:"primary"}))},zt=n("W4p8"),Ft=n.n(zt);function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Gt(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gt(this,Vt(t).apply(this,arguments))}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(t,o.PureComponent),n=t,(a=[{key:"render",value:function(){return i.a.createElement("div",{className:"page-not-found"},i.a.createElement("img",{alt:"No result",src:Ft.a}),this.props.messages.map((function(e,t){return i.a.createElement("p",{key:t},e)})),i.a.createElement("p",null))}}])&&Wt(n.prototype,a),t}();Xt.propTypes={messages:G.a.instanceOf(Array)},Xt.defaultProps={messages:["Oops! Something went wrong!","Please try to reload page."]};var Qt=Xt;function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,en(t).call(this,e))).state={isLoading:!0},n}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,o.PureComponent),n=t,(a=[{key:"componentWillMount",value:function(){0<this.props.timetables.length&&this.setState({isLoading:!1}),this.props.fetchMetadata()}},{key:"componentDidUpdate",value:function(e){var t=this;e.appMetadata.version===this.props.appMetadata.version&&0!==this.props.timetables.length||this.props.fetchTimeTables().then((function(){return t.setState({isLoading:!1})}))}},{key:"render",value:function(){return this.state.isLoading?i.a.createElement(qt,null):0===this.props.timetables.length?i.a.createElement(Qt,null):i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(Ut,null),i.a.createElement(X.a,{utils:rt.a},this.props.children))}}])&&$t(n.prototype,a),t}();nn.propTypes={children:G.a.element.isRequired,timetables:G.a.instanceOf(Array).isRequired,appMetadata:G.a.instanceOf(Object).isRequired,fetchMetadata:G.a.func.isRequired,fetchTimeTables:G.a.func.isRequired};var an=Object(s.b)((function(e){return{timetables:e.newtimetables,appMetadata:e.appMetadata}}),(function(e){return Object(d.b)(Object.assign({},{fetchMetadata:_,fetchTimeTables:T}),e)}))(nn),rn=function(){return i.a.createElement(F.a,null,i.a.createElement(J.c,null,i.a.createElement(J.a,{component:function(e){return i.a.createElement(an,e,i.a.createElement(J.a,{path:"/",exact:!0,component:at}))}}),i.a.createElement(J.a,{render:function(){return i.a.createElement("h1",null,"Page not found")}})))},on=n("XzT5");function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}on.a.use(oe.a).init({resources:{en:{translation:{}},vi:{translation:{"Support us with RM 1 and unlock this feature!":"Hỗ trợ chúng tôi chỉ với 1 RM để sử dụng tính năng này","Enter your email":"Hãy nhập email của bạn","We'll send alerts to your email {{email}}. Thank you!":"Chúng tôi sẽ gửi thông tin về email {{email}}. Cảm ơn bạn!"}},my:{translation:{"Support us with RM 1 and unlock this feature!":"Sokong kami dengan RM 1 dan buka kunci ciri ini!","Enter your email":"Masukkan emel anda","We'll send alerts to your email {{email}}. Thank you!":"Kami akan menghantar makluman kepada e-mel anda {{email}}. Terima kasih!","Set Alert":"Tetapkan Isyarat"}}},load:"languageOnly",lng:navigator.language||navigator.userLanguage,fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}}),on.a,n("zU1r");var fn=Object(c.createMuiTheme)({typography:{useNextVariants:!0},fontFamily:"helvetica neue, helvetica",palette:{primary:{main:"#1A97CB"}}}),mn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ln(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,sn(t).call(this,e))).state={isInitializing:!0,store:null,persistor:null},n}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(t,o.Component),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e,t){try{var n=Object(S.createLogger)({predicate:function(){return!1}}),a=Object(d.d)(Object(d.a)(b.a,n)),r={key:"root",storage:y.a,blacklist:[]},o=Object(h.a)(r,z),i=Object(d.e)(o,void 0,a),l=Object(h.b)(i,(function(){i.dispatch(function(e){var t=e.isHydrated;return{type:I,isHydrated:t}}({isHydrated:!0}))}));return e({store:i,persistor:l})}catch(e){return t(e)}})).then((function(t){e.setState({isInitializing:!1,store:t.store,persistor:t.persistor})}))}},{key:"render",value:function(){return this.state.isInitializing?i.a.createElement("div",{className:"loading-screen"},i.a.createElement("div",null),i.a.createElement("span",null,"Initializing...")):i.a.createElement(s.a,{store:this.state.store},i.a.createElement(p.PersistGate,{loading:null,persistor:this.state.persistor},i.a.createElement(m.a,{theme:fn},i.a.createElement(rn,null))))}}])&&un(n.prototype,a),t}();u.a.render(i.a.createElement(mn,null),document.getElementById("app")),t.default=mn},uLBM:function(e,t,n){},zU1r:function(e,t,n){}},[["tjUo",1,2]]]);